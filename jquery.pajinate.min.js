(function(a){a.fn.pajinate=function(q){var k="current_page",g="items_per_page",n,e={item_container_id:".content",items_per_page:10,nav_panel_id:".page_navigation",num_page_links_to_display:20,start_page:0,nav_label_first:"First",nav_label_prev:"Prev",nav_label_next:"Next",nav_label_last:"Last",ajax_url:"",ajax_skip_first:false,ajax_data:"",ajax_success:"",ajax_error:"",total_items:0,hide_nav_if_zero_items:false},q=a.extend(e,q),o,h,i,j,d=true;return this.each(function(){h=a(this);o=a(this).find(q.item_container_id);i=h.find(q.item_container_id).children();n=h;n.data(k,0);n.data(g,q.items_per_page);var s=0;if(q.ajax_url!=""){s=q.total_items}else{s=o.children().size()}if(q.hide_nav_if_zero_items&&s==0){a(q.nav_panel_id).hide()}else{var v=Math.ceil(s/q.items_per_page);var u='<a class="ellipse more">...</a>';var r='<a class="ellipse less">...</a>';var x='<a class="first_link" href="">'+q.nav_label_first+"</a>";x+='<a class="previous_link" href="">'+q.nav_label_prev+"</a>"+r;var w=0;while(v>w){x+='<a class="page_link" href="" longdesc="'+w+'">'+(w+1)+"</a>";w++}x+=u+'<a class="next_link" href="">'+q.nav_label_next+"</a>";x+='<a class="last_link" href="">'+q.nav_label_last+"</a>";j=h.find(q.nav_panel_id);j.html(x).each(function(){var y=a(this).find(".page_link");y.first().addClass("first");y.last().addClass("last")});j.children(".ellipse").hide();j.find(".previous_link").next().next().addClass("active_page");i.hide();i.slice(0,n.data(g)).show();var t=h.children(q.nav_panel_id).first().children(".page_link").size();q.num_page_links_to_display=Math.min(q.num_page_links_to_display,t);j.children(".page_link").hide();j.each(function(){a(this).children(".page_link").slice(0,q.num_page_links_to_display).show()});l();h.find(".first_link").click(function(y){y.preventDefault();b(a(this),0);m(0)});h.find(".last_link").click(function(z){z.preventDefault();var y=t-1;f(a(this),y);m(y)});h.find(".previous_link").click(function(y){y.preventDefault();p(a(this))});h.find(".next_link").click(function(y){y.preventDefault();c(a(this))});h.find(".page_link").click(function(y){y.preventDefault();m(a(this).attr("longdesc"))})}if(!(q.ajax_skip_first&&d)){m(parseInt(q.start_page))}d=false});function p(r){new_page=parseInt(n.data(k))-1;if(a(r).siblings(".active_page").prev(".page_link").length==true){b(r,new_page);m(new_page)}}function c(r){new_page=parseInt(n.data(k))+1;if(a(r).siblings(".active_page").next(".page_link").length==true){f(r,new_page);m(new_page)}}function m(r){var s=n.data(g);start_from=r*s;end_on=start_from+s;if(q.ajax_url==""){i.hide().slice(start_from,end_on).show()}else{data={pageNum:r,itemsPerPage:q.items_per_page};if(q.ajax_data!=""){for(attr in q.ajax_data){data[attr]=q.ajax_data[attr]}}a.ajax({url:q.ajax_url,data:data,success:function(t){q.ajax_success(t)},error:function(t){q.ajax_error(t)}})}h.find(q.nav_panel_id).children(".page_link[longdesc="+r+"]").addClass("active_page").siblings(".active_page").removeClass("active_page");n.data(k,r);l()}function f(u,t){var r=t;var s=a(u).siblings(".active_page");if(s.siblings(".page_link[longdesc="+r+"]").css("display")=="none"){j.each(function(){a(this).children(".page_link").hide().slice(parseInt(r-q.num_page_links_to_display+1),r+1).show()})}}function b(u,t){var r=t;var s=a(u).siblings(".active_page");if(s.siblings(".page_link[longdesc="+r+"]").css("display")=="none"){j.each(function(){a(this).children(".page_link").hide().slice(r,r+parseInt(q.num_page_links_to_display)).show()})}}function l(){if(typeof(j)!="undefined"&&j!=null){if(!j.children(".page_link:visible").hasClass("last")){j.children(".more").show()}else{j.children(".more").hide()}if(!j.children(".page_link:visible").hasClass("first")){j.children(".less").show()}else{j.children(".less").hide()}}}}})(jQuery);