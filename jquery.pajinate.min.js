(function(a){a.fn.pajinate=function(p){var j="current_page",f="items_per_page",m,d={item_container_id:".content",items_per_page:10,nav_panel_id:".page_navigation",num_page_links_to_display:20,start_page:0,nav_label_first:"First",nav_label_prev:"Prev",nav_label_next:"Next",nav_label_last:"Last",ajax_url:"",ajax_data:"",ajax_success:"",ajax_error:"",total_items:0,hide_nav_if_zero_items:false},p=a.extend(d,p),n,g,h,i;return this.each(function(){g=a(this);n=a(this).find(p.item_container_id);h=g.find(p.item_container_id).children();m=g;m.data(j,0);m.data(f,p.items_per_page);var r=0;if(p.ajax_url!=""){r=p.total_items}else{r=n.children().size()}if(p.hide_nav_if_zero_items&&r==0){a(p.nav_panel_id).hide()}else{var u=Math.ceil(r/p.items_per_page);var t='<a class="ellipse more">...</a>';var q='<a class="ellipse less">...</a>';var w='<a class="first_link" href="">'+p.nav_label_first+"</a>";w+='<a class="previous_link" href="">'+p.nav_label_prev+"</a>"+q;var v=0;while(u>v){w+='<a class="page_link" href="" longdesc="'+v+'">'+(v+1)+"</a>";v++}w+=t+'<a class="next_link" href="">'+p.nav_label_next+"</a>";w+='<a class="last_link" href="">'+p.nav_label_last+"</a>";i=g.find(p.nav_panel_id);i.html(w).each(function(){var x=a(this).find(".page_link");x.first().addClass("first");x.last().addClass("last")});i.children(".ellipse").hide();i.find(".previous_link").next().next().addClass("active_page");h.hide();h.slice(0,m.data(f)).show();var s=g.children(p.nav_panel_id).first().children(".page_link").size();p.num_page_links_to_display=Math.min(p.num_page_links_to_display,s);i.children(".page_link").hide();i.each(function(){a(this).children(".page_link").slice(0,p.num_page_links_to_display).show()});k();g.find(".first_link").click(function(x){x.preventDefault();b(a(this),0);l(0)});g.find(".last_link").click(function(y){y.preventDefault();var x=s-1;e(a(this),x);l(x)});g.find(".previous_link").click(function(x){x.preventDefault();o(a(this))});g.find(".next_link").click(function(x){x.preventDefault();c(a(this))});g.find(".page_link").click(function(x){x.preventDefault();l(a(this).attr("longdesc"))})}l(parseInt(p.start_page))});function o(q){new_page=parseInt(m.data(j))-1;if(a(q).siblings(".active_page").prev(".page_link").length==true){b(q,new_page);l(new_page)}}function c(q){new_page=parseInt(m.data(j))+1;if(a(q).siblings(".active_page").next(".page_link").length==true){e(q,new_page);l(new_page)}}function l(q){var r=m.data(f);start_from=q*r;end_on=start_from+r;if(p.ajax_url==""){h.hide().slice(start_from,end_on).show()}else{data={pageNum:q,itemsPerPage:p.items_per_page};if(p.ajax_data!=""){for(attr in p.ajax_data){data[attr]=p.ajax_data[attr]}}a.ajax({url:p.ajax_url,data:data,success:function(s){p.ajax_success(s)},error:function(s){p.ajax_error(s)}})}g.find(p.nav_panel_id).children(".page_link[longdesc="+q+"]").addClass("active_page").siblings(".active_page").removeClass("active_page");m.data(j,q);k()}function e(t,s){var q=s;var r=a(t).siblings(".active_page");if(r.siblings(".page_link[longdesc="+q+"]").css("display")=="none"){i.each(function(){a(this).children(".page_link").hide().slice(parseInt(q-p.num_page_links_to_display+1),q+1).show()})}}function b(t,s){var q=s;var r=a(t).siblings(".active_page");if(r.siblings(".page_link[longdesc="+q+"]").css("display")=="none"){i.each(function(){a(this).children(".page_link").hide().slice(q,q+parseInt(p.num_page_links_to_display)).show()})}}function k(){if(!i.children(".page_link:visible").hasClass("last")){i.children(".more").show()}else{i.children(".more").hide()}if(!i.children(".page_link:visible").hasClass("first")){i.children(".less").show()}else{i.children(".less").hide()}}}})(jQuery);